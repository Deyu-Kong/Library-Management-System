<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>统计信息</title>
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
</head>
<body>
<div id="div_main">
    <div id="app" style="padding-right: 0; padding-left: 0; padding-bottom: 0;">
        <el-tabs v-model="activeName2" type="card" @tab-click="handleClick">
            <!--全局统计信息-->
            <el-tab-pane label="全局统计信息" name="globalInfo">
                <el-row>
                <ul>
                    <li>
                        图书总数：{{bookCount}}
                    </li>
                    <li>
                        论文总数：{{paperCount}}
                    </li>
                    <li>
                        用户总数：{{userCount}}
                    </li>
                </ul>
                </el-row>
            </el-tab-pane>

            <!--图书统计信息&ndash;-->
            <el-tab-pane label="图书统计信息" name="bookInfo">
                <el-row>
                    <el-col :span="8">
                        <div id="bar_rating" style="height: 200px;width: 400px"></div>
                    </el-col>
                </el-row>
            </el-tab-pane>

            <el-tab-pane label="论文统计信息" name="third">论文统计信息</el-tab-pane>

            <el-tab-pane label="用户统计信息" name="userInfo">
                <el-row>
                    <el-col :xs="24" :md="12">
                        <el-input placeholder="请输入查询用户名" v-model="userName" size="mini" style="width: 80%">
                            <el-button slot="append" icon="el-icon-search" @click="getUserInfo"></el-button>
                        </el-input>
                    </el-col>
                </el-row>

                <!--统计单个用户的信息-->
                <div id="singleUserInfo" v-show="selectSingleUser">
                    <el-row>
                        <ul>
                            <li>
                                用户买书数：{{buyCount}}
                            </li>
                            <li>
                                上传论文数：{{uploadCount}}
                            </li>
                        </ul>
                    </el-row>
                </div>
                <!--统计所有用户的信息-->
                <div id="allUserInfo" v-show="!selectSingleUser">
                    <div id="identity_pie" style="height: 200px;width: 400px"></div>

                    <el-row>
                        <ul>
                            <li>
                                买书最多的人姓名：{{mname}}
                            </li>
                            <li>
                                买书最多的人id：{{mid}}
                            </li>
                            <li>
                                买书最多的人买书个数：{{mcnt}}
                            </li>
                        </ul>
                    </el-row>
                </div>
            </el-tab-pane>
        </el-tabs>
    </div>
</div>
</body>

<script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="js/echarts.js"></script>

<script src="js/info.js"></script>

</html>